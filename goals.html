<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body style="margin: auto">
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "_server_source_0", "values": [{"matchPeriod": "1H", "binned": "0-5", "Nation": "England", "count": 73}, {"matchPeriod": "1H", "binned": "0-5", "Nation": "European_Championship", "count": 8}, {"matchPeriod": "1H", "binned": "0-5", "Nation": "France", "count": 95}, {"matchPeriod": "1H", "binned": "0-5", "Nation": "Germany", "count": 65}, {"matchPeriod": "1H", "binned": "0-5", "Nation": "Italy", "count": 72}, {"matchPeriod": "1H", "binned": "0-5", "Nation": "Spain", "count": 65}, {"matchPeriod": "1H", "binned": "0-5", "Nation": "World_Cup", "count": 14}, {"matchPeriod": "1H", "binned": "10-15", "Nation": "England", "count": 81}, {"matchPeriod": "1H", "binned": "10-15", "Nation": "European_Championship", "count": 6}, {"matchPeriod": "1H", "binned": "10-15", "Nation": "France", "count": 96}, {"matchPeriod": "1H", "binned": "10-15", "Nation": "Germany", "count": 73}, {"matchPeriod": "1H", "binned": "10-15", "Nation": "Italy", "count": 92}, {"matchPeriod": "1H", "binned": "10-15", "Nation": "Spain", "count": 86}, {"matchPeriod": "1H", "binned": "10-15", "Nation": "World_Cup", "count": 14}, {"matchPeriod": "1H", "binned": "15-20", "Nation": "England", "count": 98}, {"matchPeriod": "1H", "binned": "15-20", "Nation": "European_Championship", "count": 14}, {"matchPeriod": "1H", "binned": "15-20", "Nation": "France", "count": 102}, {"matchPeriod": "1H", "binned": "15-20", "Nation": "Germany", "count": 99}, {"matchPeriod": "1H", "binned": "15-20", "Nation": "Italy", "count": 85}, {"matchPeriod": "1H", "binned": "15-20", "Nation": "Spain", "count": 92}, {"matchPeriod": "1H", "binned": "15-20", "Nation": "World_Cup", "count": 13}, {"matchPeriod": "1H", "binned": "20-25", "Nation": "England", "count": 94}, {"matchPeriod": "1H", "binned": "20-25", "Nation": "France", "count": 105}, {"matchPeriod": "1H", "binned": "20-25", "Nation": "Germany", "count": 109}, {"matchPeriod": "1H", "binned": "20-25", "Nation": "Italy", "count": 119}, {"matchPeriod": "1H", "binned": "20-25", "Nation": "Spain", "count": 105}, {"matchPeriod": "1H", "binned": "20-25", "Nation": "World_Cup", "count": 11}, {"matchPeriod": "1H", "binned": "25-30", "Nation": "England", "count": 95}, {"matchPeriod": "1H", "binned": "25-30", "Nation": "European_Championship", "count": 3}, {"matchPeriod": "1H", "binned": "25-30", "Nation": "France", "count": 99}, {"matchPeriod": "1H", "binned": "25-30", "Nation": "Germany", "count": 96}, {"matchPeriod": "1H", "binned": "25-30", "Nation": "Italy", "count": 112}, {"matchPeriod": "1H", "binned": "25-30", "Nation": "Spain", "count": 111}, {"matchPeriod": "1H", "binned": "25-30", "Nation": "World_Cup", "count": 6}, {"matchPeriod": "1H", "binned": "30-35", "Nation": "England", "count": 81}, {"matchPeriod": "1H", "binned": "30-35", "Nation": "European_Championship", "count": 13}, {"matchPeriod": "1H", "binned": "30-35", "Nation": "France", "count": 94}, {"matchPeriod": "1H", "binned": "30-35", "Nation": "Germany", "count": 62}, {"matchPeriod": "1H", "binned": "30-35", "Nation": "Italy", "count": 110}, {"matchPeriod": "1H", "binned": "30-35", "Nation": "Spain", "count": 117}, {"matchPeriod": "1H", "binned": "30-35", "Nation": "World_Cup", "count": 18}, {"matchPeriod": "1H", "binned": "35-40", "Nation": "England", "count": 95}, {"matchPeriod": "1H", "binned": "35-40", "Nation": "European_Championship", "count": 8}, {"matchPeriod": "1H", "binned": "35-40", "Nation": "France", "count": 86}, {"matchPeriod": "1H", "binned": "35-40", "Nation": "Germany", "count": 79}, {"matchPeriod": "1H", "binned": "35-40", "Nation": "Italy", "count": 82}, {"matchPeriod": "1H", "binned": "35-40", "Nation": "Spain", "count": 103}, {"matchPeriod": "1H", "binned": "35-40", "Nation": "World_Cup", "count": 19}, {"matchPeriod": "1H", "binned": "40-45", "Nation": "England", "count": 92}, {"matchPeriod": "1H", "binned": "40-45", "Nation": "European_Championship", "count": 18}, {"matchPeriod": "1H", "binned": "40-45", "Nation": "France", "count": 116}, {"matchPeriod": "1H", "binned": "40-45", "Nation": "Germany", "count": 82}, {"matchPeriod": "1H", "binned": "40-45", "Nation": "Italy", "count": 85}, {"matchPeriod": "1H", "binned": "40-45", "Nation": "Spain", "count": 80}, {"matchPeriod": "1H", "binned": "40-45", "Nation": "World_Cup", "count": 10}, {"matchPeriod": "1H", "binned": ">45", "Nation": "England", "count": 49}, {"matchPeriod": "1H", "binned": ">45", "Nation": "European_Championship", "count": 2}, {"matchPeriod": "1H", "binned": ">45", "Nation": "France", "count": 34}, {"matchPeriod": "1H", "binned": ">45", "Nation": "Germany", "count": 24}, {"matchPeriod": "1H", "binned": ">45", "Nation": "Italy", "count": 36}, {"matchPeriod": "1H", "binned": ">45", "Nation": "Spain", "count": 16}, {"matchPeriod": "1H", "binned": ">45", "Nation": "World_Cup", "count": 4}, {"matchPeriod": "2H", "binned": "0-5", "Nation": "England", "count": 111}, {"matchPeriod": "2H", "binned": "0-5", "Nation": "European_Championship", "count": 15}, {"matchPeriod": "2H", "binned": "0-5", "Nation": "France", "count": 98}, {"matchPeriod": "2H", "binned": "0-5", "Nation": "Germany", "count": 76}, {"matchPeriod": "2H", "binned": "0-5", "Nation": "Italy", "count": 94}, {"matchPeriod": "2H", "binned": "0-5", "Nation": "Spain", "count": 93}, {"matchPeriod": "2H", "binned": "0-5", "Nation": "World_Cup", "count": 17}, {"matchPeriod": "2H", "binned": "10-15", "Nation": "England", "count": 108}, {"matchPeriod": "2H", "binned": "10-15", "Nation": "European_Championship", "count": 16}, {"matchPeriod": "2H", "binned": "10-15", "Nation": "France", "count": 105}, {"matchPeriod": "2H", "binned": "10-15", "Nation": "Germany", "count": 93}, {"matchPeriod": "2H", "binned": "10-15", "Nation": "Italy", "count": 122}, {"matchPeriod": "2H", "binned": "10-15", "Nation": "Spain", "count": 118}, {"matchPeriod": "2H", "binned": "10-15", "Nation": "World_Cup", "count": 23}, {"matchPeriod": "2H", "binned": "15-20", "Nation": "England", "count": 123}, {"matchPeriod": "2H", "binned": "15-20", "Nation": "European_Championship", "count": 18}, {"matchPeriod": "2H", "binned": "15-20", "Nation": "France", "count": 92}, {"matchPeriod": "2H", "binned": "15-20", "Nation": "Germany", "count": 104}, {"matchPeriod": "2H", "binned": "15-20", "Nation": "Italy", "count": 109}, {"matchPeriod": "2H", "binned": "15-20", "Nation": "Spain", "count": 116}, {"matchPeriod": "2H", "binned": "15-20", "Nation": "World_Cup", "count": 19}, {"matchPeriod": "2H", "binned": "20-25", "Nation": "England", "count": 118}, {"matchPeriod": "2H", "binned": "20-25", "Nation": "European_Championship", "count": 4}, {"matchPeriod": "2H", "binned": "20-25", "Nation": "France", "count": 111}, {"matchPeriod": "2H", "binned": "20-25", "Nation": "Germany", "count": 88}, {"matchPeriod": "2H", "binned": "20-25", "Nation": "Italy", "count": 115}, {"matchPeriod": "2H", "binned": "20-25", "Nation": "Spain", "count": 110}, {"matchPeriod": "2H", "binned": "20-25", "Nation": "World_Cup", "count": 20}, {"matchPeriod": "2H", "binned": "25-30", "Nation": "England", "count": 130}, {"matchPeriod": "2H", "binned": "25-30", "Nation": "European_Championship", "count": 6}, {"matchPeriod": "2H", "binned": "25-30", "Nation": "France", "count": 130}, {"matchPeriod": "2H", "binned": "25-30", "Nation": "Germany", "count": 106}, {"matchPeriod": "2H", "binned": "25-30", "Nation": "Italy", "count": 139}, {"matchPeriod": "2H", "binned": "25-30", "Nation": "Spain", "count": 108}, {"matchPeriod": "2H", "binned": "25-30", "Nation": "World_Cup", "count": 21}, {"matchPeriod": "2H", "binned": "30-35", "Nation": "England", "count": 117}, {"matchPeriod": "2H", "binned": "30-35", "Nation": "European_Championship", "count": 10}, {"matchPeriod": "2H", "binned": "30-35", "Nation": "France", "count": 108}, {"matchPeriod": "2H", "binned": "30-35", "Nation": "Germany", "count": 107}, {"matchPeriod": "2H", "binned": "30-35", "Nation": "Italy", "count": 102}, {"matchPeriod": "2H", "binned": "30-35", "Nation": "Spain", "count": 134}, {"matchPeriod": "2H", "binned": "30-35", "Nation": "World_Cup", "count": 11}, {"matchPeriod": "2H", "binned": "35-40", "Nation": "England", "count": 113}, {"matchPeriod": "2H", "binned": "35-40", "Nation": "European_Championship", "count": 12}, {"matchPeriod": "2H", "binned": "35-40", "Nation": "France", "count": 110}, {"matchPeriod": "2H", "binned": "35-40", "Nation": "Germany", "count": 75}, {"matchPeriod": "2H", "binned": "35-40", "Nation": "Italy", "count": 88}, {"matchPeriod": "2H", "binned": "35-40", "Nation": "Spain", "count": 134}, {"matchPeriod": "2H", "binned": "35-40", "Nation": "World_Cup", "count": 4}, {"matchPeriod": "2H", "binned": "40-45", "Nation": "England", "count": 124}, {"matchPeriod": "2H", "binned": "40-45", "Nation": "European_Championship", "count": 13}, {"matchPeriod": "2H", "binned": "40-45", "Nation": "France", "count": 130}, {"matchPeriod": "2H", "binned": "40-45", "Nation": "Germany", "count": 88}, {"matchPeriod": "2H", "binned": "40-45", "Nation": "Italy", "count": 123}, {"matchPeriod": "2H", "binned": "40-45", "Nation": "Spain", "count": 132}, {"matchPeriod": "2H", "binned": "40-45", "Nation": "World_Cup", "count": 20}, {"matchPeriod": "2H", "binned": ">45", "Nation": "England", "count": 86}, {"matchPeriod": "2H", "binned": ">45", "Nation": "European_Championship", "count": 16}, {"matchPeriod": "2H", "binned": ">45", "Nation": "France", "count": 111}, {"matchPeriod": "2H", "binned": ">45", "Nation": "Germany", "count": 86}, {"matchPeriod": "2H", "binned": ">45", "Nation": "Italy", "count": 105}, {"matchPeriod": "2H", "binned": ">45", "Nation": "Spain", "count": 90}, {"matchPeriod": "2H", "binned": ">45", "Nation": "World_Cup", "count": 32}]}, {"name": "param_27_store", "values": [{"unit": "child + '__facet_column_' + (facet[\"matchPeriod\"])", "fields": [{"type": "E", "field": "Nation"}], "values": ["Italy"]}]}, {"name": "source_0", "source": "_server_source_0", "transform": [{"type": "filter", "expr": "!length(data(\"param_27_store\")) || vlSelectionTest(\"param_27_store\", datum)"}, {"type": "stack", "field": "count", "groupby": ["binned", "matchPeriod"], "sort": {"field": ["matchPeriod"], "order": ["descending"]}, "as": ["count_start", "count_end"], "offset": "zero"}, {"type": "filter", "expr": "isValid(datum[\"count\"]) && isFinite(+datum[\"count\"])"}]}, {"name": "column_domain", "source": "source_0", "transform": [{"type": "aggregate", "groupby": ["matchPeriod"]}]}, {"name": "source_0_x_domain_binned", "source": "source_0", "transform": [{"type": "aggregate", "groupby": ["binned"], "fields": [], "ops": [], "as": []}, {"type": "formula", "expr": "datum['binned']", "as": "sort_field"}, {"type": "project", "fields": ["binned"]}]}, {"name": "source_0_color_domain_matchPeriod", "source": "source_0", "transform": [{"type": "aggregate", "groupby": ["matchPeriod"], "fields": [], "ops": [], "as": []}, {"type": "formula", "expr": "datum['matchPeriod']", "as": "sort_field"}, {"type": "project", "fields": ["matchPeriod"]}]}], "signals": [{"name": "child_width", "value": 150}, {"name": "child_height", "value": 400}, {"name": "unit", "value": {}, "on": [{"events": "pointermove", "update": "isTuple(group()) ? group() : unit"}]}, {"name": "param_27_Nation", "init": "\"Italy\"", "on": [{"events": [{"source": "scope", "type": "keyup"}], "update": "datum && item().mark.marktype !== 'group' ? datum[\"Nation\"] : null"}, {"events": [{"source": "view", "type": "false"}], "update": "null"}], "bind": {"input": "select", "options": ["Italy", "England", "Germany", "France", "Spain", "European_Championship", "World_Cup"]}}, {"name": "param_27", "update": "vlSelectionResolve(\"param_27_store\", \"union\", true, true)"}], "marks": [{"type": "group", "name": "column-title", "title": {"text": "Half", "offset": 10, "style": "guide-title"}, "role": "column-title"}, {"type": "group", "name": "row_header", "encode": {"update": {"height": {"signal": "child_height"}}}, "axes": [{"scale": "y", "orient": "left", "title": "Goal (n)", "labelOverlap": true, "zindex": 0, "tickCount": {"signal": "ceil(child_height/40)"}, "grid": false}], "role": "row-header"}, {"type": "group", "name": "column_header", "from": {"data": "column_domain"}, "sort": {"field": "datum[\"matchPeriod\"]", "order": "ascending"}, "encode": {"update": {"width": {"signal": "child_width"}}}, "title": {"text": {"signal": "isValid(parent[\"matchPeriod\"]) ? parent[\"matchPeriod\"] : \"\"+parent[\"matchPeriod\"]"}, "style": "guide-label", "frame": "group", "offset": 10, "orient": "top", "fontSize": 15}, "role": "column-header"}, {"type": "group", "name": "column_footer", "from": {"data": "column_domain"}, "sort": {"field": "datum[\"matchPeriod\"]", "order": "ascending"}, "encode": {"update": {"width": {"signal": "child_width"}}}, "axes": [{"scale": "x", "labels": true, "grid": false, "title": "Match Time (min)", "labelAlign": "left", "orient": "bottom", "labelBaseline": "middle", "zindex": 0, "labelAngle": 90}], "role": "column-footer"}, {"type": "group", "name": "cell", "from": {"facet": {"data": "source_0", "name": "facet", "groupby": ["matchPeriod"]}}, "sort": {"field": ["datum[\"matchPeriod\"]"], "order": ["ascending"]}, "encode": {"update": {"width": {"signal": "child_width"}, "height": {"signal": "child_height"}}}, "signals": [{"name": "facet", "value": {}, "on": [{"events": [{"source": "scope", "type": "pointermove"}], "update": "isTuple(facet) ? facet : group(\"cell\").datum"}]}, {"name": "param_27_tuple", "update": "param_27_Nation !== null ? {fields: param_27_tuple_fields, values: [param_27_Nation]} : null"}, {"name": "param_27_tuple_fields", "value": [{"type": "E", "field": "Nation"}]}, {"name": "param_27_modify", "on": [{"events": {"signal": "param_27_tuple"}, "update": "modify(\"param_27_store\", param_27_tuple, true)"}]}], "marks": [{"type": "rect", "name": "child_marks", "from": {"data": "facet"}, "encode": {"update": {"opacity": [{"value": 1, "test": "!length(data(\"param_27_store\")) || vlSelectionTest(\"param_27_store\", datum)"}, {"value": 0.2}], "fill": {"field": "matchPeriod", "scale": "color"}, "width": {"signal": "max(0.25, bandwidth('x'))"}, "x": {"field": "binned", "scale": "x"}, "y": {"field": "count_end", "scale": "y"}, "y2": {"field": "count_start", "scale": "y"}}}, "style": ["bar"], "interactive": true}], "axes": [{"scale": "y", "maxExtent": 0, "ticks": false, "minExtent": 0, "aria": false, "tickCount": {"signal": "ceil(child_height/40)"}, "domain": false, "zindex": 0, "orient": "left", "gridScale": "x", "labels": false, "grid": true}], "style": "cell"}], "scales": [{"name": "x", "type": "band", "domain": {"data": "source_0_x_domain_binned", "field": "binned", "sort": true}, "range": [0, {"signal": "child_width"}], "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "y", "type": "linear", "domain": [0, 140], "range": [{"signal": "child_height"}, 0], "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_matchPeriod", "field": "matchPeriod", "sort": true}, "range": ["#1f77b4", "#2ca02c"]}], "config": {"axis": {"labelFontSize": 12, "titleFontSize": 15}}, "layout": {"padding": 20, "offset": {"columnTitle": 10}, "columns": {"signal": "length(data('column_domain'))"}, "bounds": "full", "align": "all"}, "padding": 5, "background": "white", "legends": [{"title": "Half", "fill": "color", "symbolType": "square", "encode": {"symbols": {"update": {"opacity": {"value": 1}}}}}]};
      var embedOpt = {"mode": "vega"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>
